"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5644],{63784:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>d,default:()=>g,frontMatter:()=>c,metadata:()=>m,tabs:()=>f,toc:()=>h});var r=t(86106),o=t(82036),a=t(50901),s=t(50050),i=t(32834),l=t(63418);function u(e){const{tabs:n}=e;return(0,r.jsx)(l.A,{children:n.map(((e,n)=>{let{label:t,value:o,files:l}=e;return(0,r.jsx)(i.A,{value:o,label:t,default:0===n,children:(0,r.jsx)(a.B,{bridge:s.N.Zod,files:l})},o)}))})}const c={title:"Custom field",sidebar_position:5,hide_table_of_contents:!0},d=void 0,m={id:"examples/custom-field",title:"Custom field",description:"const userSchema = z.object({",source:"@site/versioned_docs/version-4.0/examples/custom-field.mdx",sourceDirName:"examples",slug:"/examples/custom-field",permalink:"/docs/examples/custom-field",draft:!1,unlisted:!1,tags:[],version:"4.0",sidebarPosition:5,frontMatter:{title:"Custom field",sidebar_position:5,hide_table_of_contents:!0},sidebar:"docs",previous:{title:"Multi step form",permalink:"/docs/examples/multi-step-form"},next:{title:"Forms",permalink:"/docs/api-reference/forms"}},p={},f=[{label:"DisplayIf",value:"display-if",files:{"/App.tsx":'import { AutoForm, AutoField, ErrorsField, SubmitField } from \'uniforms-antd\';\nimport { ZodBridge } from \'uniforms-bridge-zod\';\nimport { z } from \'zod\';\nimport { DisplayIf } from \'./DisplayIf\';\n\nconst userSchema = z.object({\n  username: z.string(),\n  firstName: z.string().optional(),\n  lastName: z.string().optional(),\n  password: z.string(),\n});\n\ntype Model = z.infer<typeof userSchema>;\n\nconst schema = new ZodBridge({ schema: userSchema });\n\nexport default function App() {\n  return (\n    <AutoForm\n      schema={schema}\n      onSubmit={model => window.alert(JSON.stringify(model))}\n    >\n      <AutoField name="username" />\n\n      <AutoField name="firstName" />\n      <DisplayIf<Model> condition={context => !!context.model.firstName}>\n        <AutoField name="lastName" />\n      </DisplayIf>\n\n      <AutoField name="password" type="password" />\n\n      <ErrorsField />\n      <SubmitField />\n    </AutoForm>\n  );\n}',"/DisplayIf.tsx":"import { PropsWithChildren } from 'react';\nimport { Context, UnknownObject, useForm } from 'uniforms';\n\ntype DisplayIfProps<Model extends UnknownObject> = PropsWithChildren<{\n  condition: (context: Context<Model>) => boolean;\n}>;\n\nexport function DisplayIf<Model extends UnknownObject>({\n  children,\n  condition,\n}: DisplayIfProps<Model>) {\n  const uniforms = useForm<Model>();\n\n  return condition(uniforms) ? children : null;\n}"}},{label:"ImageField",value:"image-field",files:{"/App.tsx":"import { AutoForm, AutoField, ErrorsField, SubmitField } from 'uniforms-antd';\nimport { ZodBridge } from 'uniforms-bridge-zod';\nimport { z } from 'zod';\nimport { ImageField } from './ImageField';\n\nconst userSchema = z.object({\n  name: z.string(),\n  file: z.string().uniforms({ component: ImageField }),\n});\n\nconst schema = new ZodBridge({ schema: userSchema });\n\nexport default function App() {\n  return (\n    <AutoForm\n      schema={schema}\n      onSubmit={model => window.alert(JSON.stringify(model))}\n    />\n  );\n}\n","/ImageField.tsx":"import { useField, filterDOMProps } from 'uniforms';\n\nexport function ImageField(props) {\n  const [fieldProps, context] = useField(props.name, props);\n  const { onChange, value } = fieldProps;\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '10px', marginBottom: '10px' }}>\n      {value && (\n        <img\n          alt=\"\"\n          src={value}\n          style={{ width: '150px', height: '150px', display: 'block' }}\n        />\n      )}\n      <input\n        {...filterDOMProps(fieldProps)}\n        type=\"file\"\n        accept=\"image/*\"\n        id=\"file-input\"\n        onChange={event => {\n          const files = event.target.files;\n          if (files && files[0]) {\n            onChange(URL.createObjectURL(files[0]));\n          }\n        }}\n      />\n    </div>\n  );\n}\n"}}],h=[];function b(e){return(0,r.jsx)(u,{tabs:f})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(b,{...e})}):b()}},32834:(e,n,t)=>{t.d(n,{A:()=>s});t(7378);var r=t(23372);const o={tabItem:"tabItem_ILl3"};var a=t(86106);function s(e){let{children:n,hidden:t,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,s),hidden:t,children:n})}},63418:(e,n,t)=>{t.d(n,{A:()=>I});var r=t(7378),o=t(23372),a=t(40518),s=t(30505),i=t(8083),l=t(14811),u=t(9144),c=t(59489);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:o}}=e;return{value:n,label:t,attributes:r,default:o}}))}(t);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const o=(0,s.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(o.location.search);n.set(a,e),o.replace({...o.location,search:n.toString()})}),[a,o])]}function h(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,a=m(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[u,d]=f({queryString:t,groupId:o}),[h,b]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,a]=(0,c.Dv)(t);return[o,(0,r.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:o}),g=(()=>{const e=u??h;return p({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),b(e)}),[d,b,a]),tabValues:a}}var b=t(12721);const g={tabList:"tabList_k3Or",tabItem:"tabItem_dYdh"};var v=t(86106);function x(e){let{className:n,block:t,selectedValue:r,selectValue:s,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,a.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),o=i[t].value;o!==r&&(u(n),s(o))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:d,onClick:c,...a,className:(0,o.A)("tabs__item",g.tabItem,a?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:a}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function w(e){const n=h(e);return(0,v.jsxs)("div",{className:(0,o.A)("tabs-container",g.tabList),children:[(0,v.jsx)(x,{...n,...e}),(0,v.jsx)(y,{...n,...e})]})}function I(e){const n=(0,b.A)();return(0,v.jsx)(w,{...e,children:d(e.children)},String(n))}},50901:(e,n,t)=>{t.d(n,{B:()=>s});var r=t(86085),o=t(50050),a=t(86106);function s(e){const{files:n,bridge:t}=e;return(0,a.jsx)(r.l5,{template:"react-ts",customSetup:{dependencies:o.E[t]},files:n,options:{recompileMode:"delayed",recompileDelay:800},children:(0,a.jsxs)(r.am,{style:{height:"600px"},children:[(0,a.jsx)(r.cW,{showTabs:!0,showInlineErrors:!0,style:{height:"100%"}}),(0,a.jsx)(r.G5,{style:{height:"100%"}})]})})}},50050:(e,n,t)=>{t.d(n,{E:()=>a,N:()=>r});let r=function(e){return e.Zod="zod",e.JSONSchema="json-schema",e.SimpleSchema="simpl-schema",e}({});const o={antd:"^5",uniforms:"4.0.0-beta.2","uniforms-antd":"4.0.0-beta.2"},a={[r.Zod]:{...o,"uniforms-bridge-zod":"4.0.0-beta.2",zod:"^3"},[r.JSONSchema]:{...o,ajv:"^8","uniforms-bridge-json-schema":"4.0.0-beta.2"},[r.SimpleSchema]:{...o,"simpl-schema":"^3","uniforms-bridge-simple-schema-2":"4.0.0-beta.2"}}}}]);